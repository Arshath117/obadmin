import{c as p,j as e,a as c,b as f,d as v,f as E,u as M,r as d,P as z,e as L}from"./index-BHP7NIO3.js";import{X as q}from"./x-SH2N5G9R.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=p("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=p("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),R=({imageSpring:o,currentImage:a,onNext:s,onPrev:t})=>e.jsxs(c.div,{style:o,className:"relative w-full h-auto group",children:[e.jsx("img",{src:a,alt:"Product",className:"w-full h-auto rounded-xl shadow-2xl transition-transform duration-300 group-hover:scale-[1.02]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("button",{onClick:t,className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/70 hover:bg-black/90 rounded-full text-white transition-all duration-300 opacity-0 group-hover:opacity-100",children:e.jsx(j,{className:"w-6 h-6"})}),e.jsx("button",{onClick:s,className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 bg-black/70 hover:bg-black/90 rounded-full text-white transition-all duration-300 opacity-0 group-hover:opacity-100",children:e.jsx(A,{className:"w-6 h-6"})})]}),b=({isEditing:o,value:a,onChange:s,type:t,className:l})=>o?t==="textarea"?e.jsx("textarea",{value:a,onChange:r=>s(r.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 min-h-[100px]"}):e.jsx("input",{type:t,value:a,onChange:r=>s(r.target.value),className:"w-full px-4 py-2 border-2 border-blue-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"}):e.jsx("p",{className:l,children:a}),G=({fadeIn:o,product:a,isEditing:s,editedProduct:t,onFieldChange:l})=>e.jsxs(c.div,{style:o,className:"mt-8 lg:mt-0 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{isEditing:s,value:s?t.name:a.name,onChange:r=>l("name",r),type:"text",className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"}),e.jsx(b,{isEditing:s,value:s?t.price:`â‚¹${a.price}`,onChange:r=>l("price",r),type:"number",className:"text-2xl md:text-4xl font-bold text-green-500"})]}),e.jsx("div",{className:"space-y-6 divide-y divide-gray-200",children:["ageGroup","description","features","benefits","color"].map(r=>e.jsxs("div",{className:"pt-6 first:pt-0",children:[e.jsxs("h3",{className:"text-lg font-semibold capitalize mb-2",children:[r.replace(/([A-Z])/g," $1").trim(),":"]}),e.jsx(b,{isEditing:s,value:s?t[r]:a[r],onChange:x=>l(r,x),type:"textarea",className:"text-gray-700 leading-relaxed"})]},r))})]}),V=({isEditing:o,buttonSpring:a,onBack:s,onEdit:t,onSave:l,onCancel:r})=>e.jsxs("div",{className:"sticky top-[80px] md:top-[89px] z-10 bg-white/90 backdrop-blur-md shadow-lg px-6 py-4 flex justify-between items-center",children:[e.jsxs(c.button,{style:a,onClick:s,className:"flex items-center gap-2 text-xl text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(j,{className:"w-6 h-6"}),e.jsx("span",{children:"Back"})]}),o?e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(c.button,{style:a,onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[e.jsx(B,{className:"w-5 h-5"}),e.jsx("span",{children:"Save"})]}),e.jsxs(c.button,{style:a,onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Cancel"})]})]}):e.jsxs(c.button,{style:a,onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Edit"})]})]}),Y=()=>{const o=f({from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"},config:v.gentle}),a=f({from:{opacity:0,transform:"scale(0.9)"},to:{opacity:1,transform:"scale(1)"},config:v.wobbly}),s=f({from:{scale:1},to:async t=>{for(;;)await t({scale:1.05}),await t({scale:1})},config:{tension:300,friction:10}});return{fadeIn:o,imageSpring:a,buttonSpring:s}},F=()=>{const{id:o}=E(),a=M(),{products:s}=d.useContext(z),[t,l]=d.useState(null),[r,x]=d.useState(0),[y,m]=d.useState(!1),[u,g]=d.useState(null),{fadeIn:h,imageSpring:N,buttonSpring:w}=Y();if(d.useEffect(()=>{const n=s.find(i=>i._id===o);l(n),g(n)},[o,s]),!t)return e.jsx(c.div,{style:h,className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-pulse text-2xl text-blue-500",children:"Loading..."})});const k=()=>{x(n=>n===t.image.length-1?0:n+1)},C=()=>{x(n=>n===0?t.image.length-1:n-1)},P=(n,i)=>{g({...u,[n]:i})},S=async()=>{try{const n={...u,price:u.price?Number(u.price):void 0},i=await L.put("http://localhost:5001/api/products/update",{productId:o,updatedProduct:n});i.status===200&&(l(i.data),m(!1))}catch(n){console.error("Error saving changes:",n)}},I=()=>{g(t),m(!1)};return e.jsxs(c.div,{style:h,children:[e.jsx(V,{isEditing:y,buttonSpring:w,onBack:()=>a(-1),onEdit:()=>m(!0),onSave:S,onCancel:I}),e.jsxs("div",{className:"mt-14 lg:mt-20 p-6 max-w-[1200px] mx-auto md:w-full lg:grid lg:grid-cols-2 lg:gap-12",children:[e.jsx(R,{imageSpring:N,currentImage:t.image[r],onNext:k,onPrev:C}),e.jsx(G,{fadeIn:h,product:t,isEditing:y,editedProduct:u,onFieldChange:P})]})]})};export{F as default};
