import{r,u as x,j as e}from"./index-BHP7NIO3.js";const h=()=>{const[o,s]=r.useState(!1);return r.useEffect(()=>{const t=sessionStorage.getItem("authToken");s(!!t)},[]),{isAuthenticated:o,login:t=>{sessionStorage.setItem("authToken",t),s(!0)},logout:()=>{sessionStorage.removeItem("authToken"),s(!1)}}},p=()=>{const[o,s]=r.useState(""),[l,i]=r.useState(""),[t,c]=r.useState(!1),{login:u}=h(),d=x(),g=async a=>{a.preventDefault(),c(!0);try{const n=await fetch("http://localhost:5001/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:l})}),m=await n.json();n.ok?(u(m.token),d("/otp")):alert("Invalid credentials")}catch(n){console.error("Error during login:",n),alert("An error occurred during login")}finally{c(!1)}};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("div",{className:"text-4xl font-bold text-blue-600",children:"OnlyBaby"})}),e.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg transform transition duration-500 hover:scale-105",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-700 mb-6",children:"Login"}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-600",children:"Email:"}),e.jsx("input",{type:"email",id:"email",value:o,onChange:a=>s(a.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2 mt-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-600",children:"Password:"}),e.jsx("input",{type:"password",id:"password",value:l,onChange:a=>i(a.target.value),placeholder:"Enter your password",required:!0,className:"w-full px-4 py-2 mt-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),e.jsx("button",{type:"submit",disabled:t,className:`w-full px-4 py-2 text-white rounded-lg focus:outline-none focus:ring-2 ${t?"bg-gray-400":"bg-blue-500 hover:bg-blue-600"}`,children:t?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 11-16 0z"})]}),"Processing..."]}):"Login"})]})]})]})};export{p as default};
